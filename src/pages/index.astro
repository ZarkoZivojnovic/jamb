---
import Layout from '@/Layout.astro'
---

<Layout>
  <div>
    <form>
      <label class='username-wrapper'>
        <input name='username' type='text' placeholder='username' minlength='3' maxlength='15' />
        <button class='_button save-username' type='submit'>Save</button>
        <button class='_button cancel-username' type='reset'>Cancel</button>
      </label>
    </form>
    <span class='username-info'>Your username:</span>
    <span class='username-preview'></span>
    <div class='username-actions'>
      <button class='edit-username'>Edit</button>
      <button class='remove-username'>Remove</button>
    </div>
  </div>
  <div class='game-actions'>
    <button class='_button start-game' disabled>Start game</button>
    <button class='_button join-game' disabled>Join game</button>
  </div>
</Layout>

<style lang='scss'>
  div {
    width: 100%;
    padding: 40px 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 10px;
    color: var(--color-text);
    height: 250px;
  }

  input[name='username'] {
    height: 40px;
    width: 200px;
    font-size: var(--font-l);
    padding: 0 10px;
    text-align: right;
  }

  .save-username,
  .cancel-username {
    width: 80px;
    height: 40px;
  }

  .edit-username,
  .remove-username {
    border-bottom: 1px solid var(--color-text);
  }

  .edit-username {
    display: block;
  }

  .username-actions {
    flex-direction: row;
  }

  .username-preview {
    font-size: var(--font-l);
    font-weight: bold;
    color: var(--color-text);
  }

  .game-actions {
    flex-direction: row;
  }

  .hide {
    display: none;
  }
</style>

<script>
  import { initUsernameHandlers } from '@/helpers/usernameHelpers'
  import { initButtonHandlers } from '@/helpers/buttonHelpers'
  import { querySelector } from '@/helpers/helpers'

  const startGameButton = querySelector('.start-game')
  const joinGameButton = querySelector('.join-game')

  initButtonHandlers(startGameButton, joinGameButton)
  initUsernameHandlers(startGameButton, joinGameButton)
</script>
