---
import Layout from '@/Layout.astro'
---

<Layout>
  <div class='history-content'></div>
</Layout>

<style lang='scss'>
  .history-content {
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    padding: 20px 10px;
  }

  :global(.history-item) {
    display: flex;
    text-align: center;
    justify-content: space-between;
    margin: 0 20px 10px;
    padding: 10px 30px;
    color: var(--color-text);
    border: 1px solid var(--color-border);
    border-radius: 30px;

    :global(.history-code) {
      color: var(--color-text);
      text-decoration: none;
      border-bottom: 1px solid var(--color-text);
    }
  }

  :global(a) {
    text-decoration: none;
  }
</style>

<script>
  import { querySelector } from '@/helpers/helpers'
  import { getHistoryData, createHistoryContentHtml } from '@/helpers/historyHelpers'

  const historyContent = querySelector('.history-content')
  const data = getHistoryData()

  if (data.length) {
    historyContent.innerHTML = createHistoryContentHtml(data)
  } else {
    const clearHistoryButton = querySelector('.clear-history')
    clearHistoryButton.innerHTML = 'No history'
    clearHistoryButton.setAttribute('disabled', 'disabled')
  }
</script>
